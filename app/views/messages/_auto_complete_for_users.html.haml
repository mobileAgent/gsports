- max = 5
- count = 0
%ul
  - if @groups && !@groups.empty?
    - @groups.each do |group|
      -# break if count >= max
      - count += 1
      %li
        .mailPoster
          .mailPosterThumb
            =image_tag(group.team.avatar_photo_url(:thumb), :alt=>"Team", :width=>"50", :height=>"50")
          .mailPosterName
            %br/
            %span.autocompletename= h(group.name)
            .mailPosterTeam
              = "#{group.contacts.size} contacts"
        .clearDiv

  -if count < max && @users && !@users.empty?
    - @users.each do |user|
      -# break if count >= max
      - count += 1
      %li
        .mailPoster
          .mailPosterThumb
            =image_tag(user.avatar_photo_url(:thumb), :alt=>"Profile Picture", :width=>"50", :height=>"50")
          .mailPosterName
            %br/
            %span.autocompletename= h(user.full_name)
            - if user.team_name
              .mailPosterTeam
                = h(user.team_name)
        .clearDiv

  -# Reset count for emails and phones... they are small
  - count = count / 2

  - if count < max && @emails && !@emails.empty?
    - @emails.each do |email|
      -# break if count >= max
      - count += 1
      %li
        .mailPoster
          .mailPosterThumb &nbsp;
          .mailPosterName
            %span.autocompletename= h(email)
        .clearDiv
            
  - if count < max && @phones && !@phones.empty?
    - @phones.each do |phone|
      -# break if count >= max
      - count += 1
      %li
        .mailPoster
          .mailPosterThumb &nbsp;
          .mailPosterName
            %span.autocompletename= h(Utilities::readable_phone(phone))
        .clearDiv
